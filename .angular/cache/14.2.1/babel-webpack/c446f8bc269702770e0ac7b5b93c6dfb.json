{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"ngx-bootstrap/modal\";\nimport * as i3 from \"src/app/services/product.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"ngx-bootstrap/tabs\";\n\nfunction ListComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"h4\", 35);\n    i0.ɵɵtext(2, \"Add Product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ListComponent_ng_template_4_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.modalService.hide());\n    });\n    i0.ɵɵelementStart(4, \"span\", 37);\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 38)(7, \"form\", 10);\n    i0.ɵɵlistener(\"ngSubmit\", function ListComponent_ng_template_4_Template_form_ngSubmit_7_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.addProduct());\n    });\n    i0.ɵɵelementStart(8, \"div\", 39);\n    i0.ɵɵelement(9, \"input\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 39);\n    i0.ɵɵelement(11, \"textarea\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 39);\n    i0.ɵɵelement(13, \"input\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 39)(15, \"select\", 43)(16, \"option\", 44);\n    i0.ɵɵtext(17, \"Choose Category...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"option\", 45);\n    i0.ɵɵtext(19, \"One\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"option\", 46);\n    i0.ɵɵtext(21, \"Two\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"option\", 47);\n    i0.ɵɵtext(23, \"Three\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"div\", 39)(25, \"div\", 48)(26, \"input\", 49);\n    i0.ɵɵlistener(\"change\", function ListComponent_ng_template_4_Template_input_change_26_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.getFile($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"label\", 50);\n    i0.ɵɵtext(28, \"Choose file\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"button\", 51);\n    i0.ɵɵtext(30, \"Submit\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.addForm);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"value\", \"1\");\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.addForm.invalid);\n  }\n}\n\nfunction ListComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"div\", 52);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵelement(11, \"img\", 53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 54)(13, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function ListComponent_tr_23_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const item_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.deleteProduct(item_r8._id));\n    });\n    i0.ɵɵtext(14, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r8.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r8.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r8.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r8.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", item_r8.image, i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport class ListComponent {\n  constructor(frm, modalService, productService) {\n    this.frm = frm;\n    this.modalService = modalService;\n    this.productService = productService;\n    this.loginForm = frm.group({\n      name: [\"\"],\n      password: [\"\"],\n      address: frm.group({\n        houseNo: [\"\", Validators.required],\n        street: [\"\", Validators.required],\n        locality: [\"\", Validators.required]\n      })\n    });\n    this.addForm = frm.group({\n      name: [\"\", Validators.required],\n      description: [\"\", Validators.required],\n      category: [\"\", Validators.required],\n      price: [\"\", [Validators.required]],\n      image: [\"\", [Validators.required]]\n    });\n  }\n\n  ngOnInit() {\n    this.loadData(); //.subscribe(console.log);\n  }\n\n  loadData() {\n    this.productList$ = this.productService.getProduct();\n  }\n\n  submit() {\n    console.log(\"Submit\", this.loginForm.value);\n  }\n\n  submitUser(usrForm) {\n    console.log(\"submitUser\", usrForm.value);\n    console.log(\"submitUser\", usrForm.value);\n  }\n\n  getFile(e) {\n    let extensionAllowed = {\n      png: true,\n      jpeg: true\n    };\n    console.log(e.target.files);\n\n    if (e.target.files[0].size / 1024 / 1024 > 20) {\n      alert(\"File size should be less than 20MB\");\n      return;\n    }\n\n    if (extensionAllowed) {\n      let nam = \"\" + e.target.files[0].name.split('.').pop();\n\n      if (!extensionAllowed[\"png\"]) {\n        alert(\"Please upload \" + Object.keys(extensionAllowed) + \" file.\");\n        return;\n      }\n    }\n\n    this.addForm.patchValue({\n      image: e.target.files[0]\n    });\n  }\n\n  addProduct() {\n    let fromVal = this.addForm.value;\n    console.log(\"fromVal\", fromVal);\n    let uploadData = new FormData();\n\n    for (const property in fromVal) {\n      uploadData.append(property, fromVal[property]);\n    }\n\n    this.modalService.hide();\n    this.productService.addProduct(uploadData).subscribe({\n      next: data => this.loadData(),\n      error: err => this.loadData()\n    });\n  }\n\n  deleteProduct(id) {\n    this.productService.deleteProduct(id).subscribe({\n      next: data => this.loadData(),\n      error: err => this.loadData()\n    });\n  }\n\n}\n\nListComponent.ɵfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.BsModalService), i0.ɵɵdirectiveInject(i3.ProductService));\n};\n\nListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListComponent,\n  selectors: [[\"app-list\"]],\n  decls: 85,\n  vars: 4,\n  consts: [[1, \"row\", \"mt-5\"], [1, \"col-12\", \"mb-5\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"float-right\", 3, \"click\"], [\"template\", \"\"], [1, \"col-12\"], [1, \"table\"], [\"scope\", \"col\"], [\"scope\", \"col-2\"], [4, \"ngFor\", \"ngForOf\"], [\"heading\", \"Reactive Form\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"formControlName\", \"name\", \"type\", \"email\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter email\", 1, \"form-control\"], [\"id\", \"emailHelp\", 1, \"form-text\", \"text-muted\"], [\"for\", \"exampleInputPassword1\"], [\"formControlName\", \"password\", \"type\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\"], [\"formGroupName\", \"address\"], [\"formControlName\", \"houseNo\", \"type\", \"text\", \"placeholder\", \"House No\", 1, \"form-control\"], [\"formControlName\", \"street\", \"type\", \"text\", \"placeholder\", \"Street\", 1, \"form-control\"], [\"formControlName\", \"locality\", \"type\", \"text\", \"placeholder\", \"Locality\", 1, \"form-control\"], [1, \"form-check\"], [\"type\", \"checkbox\", 1, \"form-check-input\"], [\"for\", \"exampleCheck1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"heading\", \"Template Form\"], [3, \"ngSubmit\"], [\"userForm\", \"ngForm\"], [\"name\", \"name\", \"type\", \"email\", \"ngModel\", \"\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter email\", 1, \"form-control\"], [\"name\", \"password\", \"type\", \"password\", \"ngModel\", \"\", \"placeholder\", \"Password\", 1, \"form-control\"], [\"ngModelGroup\", \"address\"], [\"name\", \"houseNo\", \"ngModel\", \"\", \"type\", \"text\", \"placeholder\", \"House No\", 1, \"form-control\"], [\"name\", \"street\", \"ngModel\", \"\", \"type\", \"text\", \"placeholder\", \"Street\", 1, \"form-control\"], [\"name\", \"locality\", \"ngModel\", \"\", \"type\", \"text\", \"placeholder\", \"Locality\", 1, \"form-control\"], [1, \"modal-header\"], [1, \"modal-title\", \"pull-left\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", \"close\", \"pull-right\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"visually-hidden\"], [1, \"modal-body\"], [1, \"input-group\", \"mb-3\"], [\"formControlName\", \"name\", \"type\", \"text\", \"placeholder\", \"Name\", \"value\", \"sdsadsad\", 1, \"form-control\"], [\"value\", \"sdsadsad\", \"placeholder\", \"Description\", \"formControlName\", \"description\", 1, \"form-control\"], [\"formControlName\", \"price\", \"value\", \"11\", \"type\", \"text\", \"placeholder\", \"Price\", 1, \"form-control\"], [\"formControlName\", \"category\", 1, \"custom-select\", 3, \"value\"], [\"selected\", \"\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [1, \"custom-file1\"], [\"type\", \"file\", \"id\", \"inputGroupFile04\", 1, \"custom-file-input1\", 3, \"change\"], [\"for\", \"inputGroupFile04\", 1, \"custom-file-label1\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"description\"], [\"width\", \"75\", 3, \"src\"], [\"scope\", \"row\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r11 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function ListComponent_Template_button_click_2_listener() {\n        i0.ɵɵrestoreView(_r11);\n\n        const _r0 = i0.ɵɵreference(5);\n\n        return i0.ɵɵresetView(ctx.modalService.show(_r0));\n      });\n      i0.ɵɵtext(3, \"Add New Product\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, ListComponent_ng_template_4_Template, 31, 3, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"table\", 5)(8, \"thead\")(9, \"tr\")(10, \"th\", 6);\n      i0.ɵɵtext(11, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\", 7);\n      i0.ɵɵtext(13, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\", 6);\n      i0.ɵɵtext(15, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 6);\n      i0.ɵɵtext(17, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 6);\n      i0.ɵɵtext(19, \"Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\", 6);\n      i0.ɵɵtext(21, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"tbody\");\n      i0.ɵɵtemplate(23, ListComponent_tr_23_Template, 15, 5, \"tr\", 8);\n      i0.ɵɵpipe(24, \"async\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"tabset\")(26, \"tab\", 9)(27, \"form\", 10);\n      i0.ɵɵlistener(\"ngSubmit\", function ListComponent_Template_form_ngSubmit_27_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(28, \"div\", 11)(29, \"label\", 12);\n      i0.ɵɵtext(30, \"Email address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"input\", 13);\n      i0.ɵɵelementStart(32, \"small\", 14);\n      i0.ɵɵtext(33, \"We'll never share your email with anyone else.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"div\", 11)(35, \"label\", 15);\n      i0.ɵɵtext(36, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(37, \"input\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementContainerStart(38, 17);\n      i0.ɵɵelementStart(39, \"div\", 11)(40, \"label\", 15);\n      i0.ɵɵtext(41, \"House No\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(42, \"input\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"div\", 11)(44, \"label\", 15);\n      i0.ɵɵtext(45, \"Street\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(46, \"input\", 19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"div\", 11)(48, \"label\", 15);\n      i0.ɵɵtext(49, \"Locality\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(50, \"input\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementStart(51, \"div\", 21);\n      i0.ɵɵelement(52, \"input\", 22);\n      i0.ɵɵelementStart(53, \"label\", 23);\n      i0.ɵɵtext(54, \"Check me out\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(55, \"button\", 24);\n      i0.ɵɵtext(56, \"Submit\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(57, \"tab\", 25)(58, \"form\", 26, 27);\n      i0.ɵɵlistener(\"ngSubmit\", function ListComponent_Template_form_ngSubmit_58_listener() {\n        i0.ɵɵrestoreView(_r11);\n\n        const _r3 = i0.ɵɵreference(59);\n\n        return i0.ɵɵresetView(ctx.submitUser(_r3));\n      });\n      i0.ɵɵelementStart(60, \"div\", 11)(61, \"label\", 12);\n      i0.ɵɵtext(62, \"Email address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(63, \"input\", 28);\n      i0.ɵɵelementStart(64, \"small\", 14);\n      i0.ɵɵtext(65, \"We'll never share your email with anyone else.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(66, \"div\", 11)(67, \"label\", 15);\n      i0.ɵɵtext(68, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(69, \"input\", 29);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementContainerStart(70, 30);\n      i0.ɵɵelementStart(71, \"div\", 11)(72, \"label\", 15);\n      i0.ɵɵtext(73, \"House No\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(74, \"input\", 31);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"div\", 11)(76, \"label\", 15);\n      i0.ɵɵtext(77, \"Street\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(78, \"input\", 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"div\", 11)(80, \"label\", 15);\n      i0.ɵɵtext(81, \"Locality\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(82, \"input\", 33);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementStart(83, \"button\", 24);\n      i0.ɵɵtext(84, \"Submit\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n\n    if (rf & 2) {\n      let tmp_0_0;\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngForOf\", (tmp_0_0 = i0.ɵɵpipeBind1(24, 2, ctx.productList$)) == null ? null : tmp_0_0.data);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.TabDirective, i5.TabsetComponent, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.NgModel, i1.NgModelGroup, i1.NgForm, i4.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaXN0LmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","Observable","i0","ListComponent","constructor","frm","modalService","productService","loginForm","group","name","password","address","houseNo","required","street","locality","addForm","description","category","price","image","ngOnInit","loadData","productList$","getProduct","submit","console","log","value","submitUser","usrForm","getFile","e","extensionAllowed","png","jpeg","target","files","size","alert","nam","split","pop","Object","keys","patchValue","addProduct","fromVal","uploadData","FormData","property","append","hide","subscribe","next","data","error","err","deleteProduct","id","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/Manish/Desktop/mean/mean/src/app/modules/product/list/list.component.ts","/Users/Manish/Desktop/mean/mean/src/app/modules/product/list/list.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { ProductService } from 'src/app/services/product.service';\nimport { HttpClient } from '@angular/common/http';\nimport { catchError, map, throwError, Observable } from 'rxjs';\nimport { Products } from 'src/app/models/product.model';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss']\n})\nexport class ListComponent implements OnInit {\n  loginForm: any\n  addForm: FormGroup | any;\n  productList$!: Observable<Products>;\n  constructor(private frm: FormBuilder, public modalService: BsModalService, private productService: ProductService) {\n    this.loginForm = frm.group({\n      name: [\"\"],\n      password: [\"\"],\n      address: frm.group({\n        houseNo: [\"\", Validators.required],\n        street: [\"\", Validators.required],\n        locality: [\"\", Validators.required]\n      })\n    })\n\n    this.addForm = frm.group({\n      name: [\"\", Validators.required],\n      description: [\"\", Validators.required],\n      category: [\"\", Validators.required],\n      price: [\"\", [Validators.required]],\n      image: [\"\", [Validators.required]]\n    })\n  }\n\n  ngOnInit(): void {\n    this.loadData()\n    //.subscribe(console.log);\n  }\n\n  loadData() {\n    this.productList$ = this.productService.getProduct()\n  }\n\n  submit() {\n    console.log(\"Submit\", this.loginForm.value);\n  }\n\n\n\n  submitUser(usrForm: any) {\n    console.log(\"submitUser\", usrForm.value);\n    console.log(\"submitUser\", usrForm.value);\n\n  }\n\n\n\n\n\n  getFile(e: any) {\n    let extensionAllowed: { [key: string]: boolean } = { png: true, jpeg: true };\n    console.log(e.target.files);\n    if (e.target.files[0].size / 1024 / 1024 > 20) {\n      alert(\"File size should be less than 20MB\")\n      return;\n    }\n    if (extensionAllowed) {\n      let nam = \"\" + e.target.files[0].name.split('.').pop();\n      if (!extensionAllowed[\"png\"]) {\n        alert(\"Please upload \" + Object.keys(extensionAllowed) + \" file.\")\n        return;\n      }\n    }\n    this.addForm.patchValue({ image: e.target.files[0] })\n  }\n\n  addProduct() {\n    let fromVal = this.addForm.value\n    console.log(\"fromVal\", fromVal);\n    let uploadData = new FormData();\n    for (const property in fromVal) {\n      uploadData.append(property, fromVal[property]);\n    }\n    this.modalService.hide()\n    this.productService.addProduct(uploadData).subscribe({\n      next: data => this.loadData(),\n      error: err => this.loadData()\n    })\n  }\n\n  deleteProduct(id: string) {\n    this.productService.deleteProduct(id).subscribe({\n      next: data => this.loadData(),\n      error: err => this.loadData()\n    })\n  }\n}\n\n\n\n","<div class=\"row mt-5\">\n\n    <div class=\"col-12 mb-5\">\n        <button type=\"button\" class=\"btn btn-primary float-right\" (click)=\"modalService.show(template)\">Add New\n            Product</button>\n\n        <ng-template #template>\n            <div class=\"modal-header\">\n                <h4 class=\"modal-title pull-left\">Add Product</h4>\n                <button type=\"button\" class=\"btn-close close pull-right\" aria-label=\"Close\"\n                    (click)=\"modalService.hide()\">\n                    <span aria-hidden=\"true\" class=\"visually-hidden\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <form [formGroup]=\"addForm\" (ngSubmit)=\"addProduct()\">\n                    <div class=\"input-group mb-3\">\n                        <input formControlName=\"name\" type=\"text\" class=\"form-control\" placeholder=\"Name\"\n                            value=\"sdsadsad\">\n                    </div>\n\n                    <div class=\"input-group mb-3\">\n                        <textarea class=\"form-control\" value=\"sdsadsad\" placeholder=\"Description\"\n                            formControlName=\"description\"></textarea>\n                    </div>\n\n                    <div class=\"input-group mb-3\">\n                        <input formControlName=\"price\" value=\"11\" type=\"text\" class=\"form-control\" placeholder=\"Price\">\n                    </div>\n\n\n                    <div class=\"input-group mb-3\">\n                        <select class=\"custom-select\" [value]=\"'1'\" formControlName=\"category\">\n                            <option selected>Choose Category...</option>\n                            <option value=\"1\">One</option>\n                            <option value=\"2\">Two</option>\n                            <option value=\"3\">Three</option>\n                        </select>\n                    </div>\n\n\n                    <div class=\"input-group mb-3\">\n                        <div class=\"custom-file1\">\n                            <input type=\"file\" class=\"custom-file-input1\" id=\"inputGroupFile04\"\n                                (change)=\"getFile($event)\">\n                            <label class=\"custom-file-label1\" for=\"inputGroupFile04\">Choose file</label>\n                        </div>\n                    </div>\n\n                    <button type=\"submit\" [disabled]=\"addForm.invalid\" class=\"btn btn-primary\">Submit</button>\n\n                </form>\n            </div>\n        </ng-template>\n    </div>\n\n    <div class=\"col-12\">\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <th scope=\"col\">Name</th>\n                    <th scope=\"col-2\">Description</th>\n                    <th scope=\"col\">Price</th>\n                    <th scope=\"col\">Category</th>\n                    <th scope=\"col\">Image</th>\n                    <th scope=\"col\">Action</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let item of (productList$ | async)?.data\">\n\n                    <td>{{item.name}}</td>\n                    <td>\n                        <div class=\"description\">\n                            {{item.description}}\n                        </div>\n                    </td>\n                    <td>{{item.category}}</td>\n                    <td>{{item.price}}</td>\n                    <td><img [src]=\"item.image\" width=\"75\"></td>\n                    <th scope=\"row\">\n                        <button type=\"button\" (click)=\"deleteProduct(item._id)\"\n                            class=\"btn btn-outline-danger\">Delete</button>\n                    </th>\n                </tr>\n\n            </tbody>\n        </table>\n        <tabset>\n\n\n\n\n            <tab heading=\"Reactive Form\">\n                <form [formGroup]=\"loginForm\" (ngSubmit)=\"submit()\">\n                    <div class=\"form-group\">\n                        <label for=\"exampleInputEmail1\">Email address</label>\n                        <input formControlName=\"name\" type=\"email\" class=\"form-control\" aria-describedby=\"emailHelp\"\n                            placeholder=\"Enter email\">\n                        <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone\n                            else.</small>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"exampleInputPassword1\">Password</label>\n                        <input formControlName=\"password\" type=\"password\" class=\"form-control\" placeholder=\"Password\">\n                    </div>\n                    <ng-container formGroupName=\"address\">\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputPassword1\">House No</label>\n                            <input formControlName=\"houseNo\" type=\"text\" class=\"form-control\" placeholder=\"House No\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputPassword1\">Street</label>\n                            <input formControlName=\"street\" type=\"text\" class=\"form-control\" placeholder=\"Street\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputPassword1\">Locality</label>\n                            <input formControlName=\"locality\" type=\"text\" class=\"form-control\" placeholder=\"Locality\">\n                        </div>\n                    </ng-container>\n\n                    <div class=\"form-check\">\n                        <input type=\"checkbox\" class=\"form-check-input\">\n                        <label class=\"form-check-label\" for=\"exampleCheck1\">Check me out</label>\n                    </div>\n                    <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n                </form>\n            </tab>\n\n\n\n            <tab heading=\"Template Form\">\n                <form #userForm=\"ngForm\" (ngSubmit)=\"submitUser(userForm)\">\n                    <div class=\"form-group\">\n                        <label for=\"exampleInputEmail1\">Email address</label>\n                        <input name=\"name\" type=\"email\" ngModel class=\"form-control\" aria-describedby=\"emailHelp\"\n                            placeholder=\"Enter email\">\n                        <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone\n                            else.</small>\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"exampleInputPassword1\">Password</label>\n                        <input name=\"password\" type=\"password\" class=\"form-control\" ngModel placeholder=\"Password\">\n                    </div>\n                    <ng-container ngModelGroup=\"address\">\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputPassword1\">House No</label>\n                            <input name=\"houseNo\" ngModel type=\"text\" class=\"form-control\" placeholder=\"House No\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputPassword1\">Street</label>\n                            <input name=\"street\" ngModel type=\"text\" class=\"form-control\" placeholder=\"Street\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputPassword1\">Locality</label>\n                            <input name=\"locality\" ngModel type=\"text\" class=\"form-control\" placeholder=\"Locality\">\n                        </div>\n                    </ng-container>\n                    <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n                </form>\n            </tab>\n        </tabset>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module"}